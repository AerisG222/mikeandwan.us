@model MawAuth.ViewModels.Account.ForgotPasswordModel
@{
	Layout = "_LayoutSidebar";
	ViewBag.Title = "account | forgot password";
}

@section sidebar {
	<div class="card">
        <div class="card-body">
            Submit your email address to receive instructions on how to reset your password.  If you do not yet
            have an account, or forgot which email is associated to your account, please <a href="https://www.mikeandwan.us/about/contact">contact us</a>.
        </div>
	</div>
}

@section header {
	<h1>Forgot Password</h1>
}

@if(Model.WasEmailAttempted && ViewContext.ViewData.ModelState.IsValid) {
	@* show same message regardless of whether account exists - avoid account enumeration attacks *@
	<p maw-alert-type="Success">
		You should receive an email shortly with instructions on how to complete resetting your password.
		If you do not receive this in the next 30 minutes, please try again or contact us for help.
	</p>
}
else {
	@if(!ViewContext.ViewData.ModelState.IsValid) {
		<p maw-alert-type="Danger">Password reset email was not sent.</p>
		<div class="text-danger" asp-validation-summary="All"></div>
	}

	<p>
		Enter the email address associated with your account to reset your password.
	</p>

	<form asp-controller="account" asp-action="forgotpassword" method="post" autocomplete="off" role="form">
	    <div class="form-group mb-4">
			<label asp-for="Email"></label>
			<input asp-for="Email" class="form-control" autofocus="" />
			@*<span asp-validation-for="Email" class="form-text"></span>*@
		</div>

	    <div class="form-row">
	        <div class="col-sm-4">
	            <button type="submit" class="btn btn-primary">Email Link</button>
	        </div>
	    </div>
	</form>
}